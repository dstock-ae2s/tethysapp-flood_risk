{% extends "flood_risk/base.html" %}
{% load tethys_gizmos %}
{% load staticfiles %}

{% block app_navigation_items %}
  {% url 'flood_risk:building' as building_url %}
  {% url 'flood_risk:street' as street_url %}
  {% url 'flood_risk:manhole' as manhole_url %}
  {% url 'flood_risk:pipe' as pipe_url %}

  <li class="title">Navigation</li>
  <li class = "{% if request.path == building_url %}active{% endif %}"><a href="{{ building_url }}">Building Risk</a></li>
  <li class = "{% if request.path == street_url %}active{% endif %}"><a href="{{ street_url }}">Street Risk</a></li>
  <li class = "{% if request.path == manhole_url %}active{% endif %}"><a href="{{ manhole_url }}">Manhole Risk</a></li>
  <li class = "{% if request.path == pipe_url %}active{% endif %}"><a href="{{ pipe_url }}">Pipe Risk</a></li>

    <h1>Pipe Risk</h1>
    <form action="" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group pipe_upload">
            <text>Is a flowrate associated with pipe shapefile?</text>
            <label class="container">
                <input type="radio" name="pipe_radio" checked="checked" value="yes">Yes
                <span class="checkmark"></span>
            </label>
            <label class="container">
                <input type="radio" name="pipe_radio" value="no">No
                <span class="checkmark"></span>
            </label>
            <text>Extract street flowrate from raster?</text>
            <label class="container">
                <input type="radio" name="street_radio" checked="checked" value="yes">Yes
                <span class="checkmark"></span>
            </label>
            <label class="container">
                <input type="radio" name="street_radio" value="no">No
                <span class="checkmark"></span>
            </label>
            <label class ="control-label" for="pipe-shp-upload-input">Pipe Shapefile</label>
            <input id ="pipe-shp-upload-input" class = "shp-upload-input" name="pipe-shp-upload-input" style="display:inline-block;" type="file" accept = ".shp, .shx, .prj, .dbf, .cpg, .sbn, .sbx, .xml" multiple>

            <div id="pipeid-select" style="display:inline-block;">
            <label for="pipe-field-select-0" style="padding-rigth:5px;">Pipe ID Field:</label>
                <select id="pipe-field-select-0">
                    <option value="">Select Field</option>
                </select>
            <br>
            <label for="pipe-field-select-1" id ="label-pipe-field-select-1" style="padding-rigth:5px;">Pipe Slope Field:</label>
                <select id="pipe-field-select-1">
                    <option value="">Select Field</option>
                </select>
            <br>
                <label for="pipe-field-select-2" style="padding-rigth:5px;">Pipe Diameter Field:</label>
                <select id="pipe-field-select-2">
                    <option value="">Select Field</option>
                </select>
            <br>
                <label for="pipe-field-select-3" id = "label-pipe-field-select-3" style="padding-rigth:5px;">Pipe Flow Field:</label>
                <select id="pipe-field-select-3">
                    <option value="">Select Field</option>
                </select>
            </div>
        </div>
        {% gizmo buffer_input %}
        <div class="form-group street2_upload">
            <label class ="control-label" id ="label-depth2-shp-upload-input" for="depth2-shp-upload-input">Inundation Raster</label>
            <br>
            <input id ="depth2-shp-upload-input" class="shp-upload-input" name="depth2-shp-upload-input" style="display:inline-block;" type="file" accept = ".tif, .tfw, .xml, .ovr" multiple>
            <label class ="control-label" id ="label-street2-buffer" for="street2-buffer">Street Buffer</label>
            <input type="text" id="street2-buffer" name="street2_buffer" placeholder="20.0" required>
            <label class ="control-label" id ="label-street2-shp-upload-input" for="street2-shp-upload-input">Street Shapefile</label>
            <br>
            <input id ="street2-shp-upload-input" class = "shp-upload-input" name="street2-shp-upload-input" style="display:inline-block;" type="file" accept = ".shp, .shx, .prj, .dbf, .cpg, .sbn, .sbx, .xml" multiple>

            <div id="street2id-select" style="display:inline-block;" name="street2id_select">
            <label for="street2-field-select-0" style="padding-rigth:5px;">Street ID Field:</label>
                <select id="street2-field-select-0">
                    <option value="">Select Field</option>
                </select>
            <br>
            <label for="street2-field-select-1" id = "label-street2-field-select-1" style="padding-rigth:5px;">Street Flow Field:</label>
                <select id="street2-field-select-1" name="street2_field_select_1">
                    <option value="">Select Field</option>
                </select>
            </div>
        </div>
        {% gizmo distance_input %}
        {% gizmo button submit_pipe %}
    </form>

{% endblock %}

{% block app_content %}
    <form method="post">
        {% csrf_token %}
        {% gizmo select_input select_options %}
        <input name="submit" type="submit" value="Update" class="btn btn-default">
    </form>
    {% gizmo map_view %}
{% endblock %}

{% block after_app_content %}

{% endblock %}

{% block content_dependent_styles %}
    {{ block.super }}
    <link href="{% static 'hpp/css/main.css' %}" rel="stylesheet"/>
    <link rel="stylesheet" href="{% static 'flood_risk/css/map.css' %}" />
{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="https://js.arcgis.com/4.15/"></script>
    <script src="{% static 'flood_risk/js/main.js' %}" type="text/javascript"></script>
{% endblock %}