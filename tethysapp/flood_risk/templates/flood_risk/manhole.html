{% extends "flood_risk/base.html" %}
{% load tethys_gizmos %}
{% load staticfiles %}

{% block app_navigation_items %}
  {% url 'flood_risk:home' as home_url %}
  {% url 'flood_risk:layer_gen' as layer_gen_url %}
  {% url 'flood_risk:risk_analysis' as risk_analysis_url %}
  {% url 'flood_risk:manhole' as manhole_url %}

  <li class="title">Navigation</li>
  <li class="{% if request.path == home_url %}active{% endif %}"><a href="{{ home_url }}">Zone File Generation</a></li>
  <li class = "{% if request.path == layer_gen_url %}active{% endif %}"><a href="{{ layer_gen_url }}">Building Risk</a></li>
  <li class = "{% if request.path == risk_analysis_url %}active{% endif %}"><a href="{{ risk_analysis_url }}">Street Risk</a></li>
  <li class = "{% if request.path == manhole_url %}active{% endif %}"><a href="{{ manhole_url }}">Manhole Risk</a></li>

    <h1>Manhole Risk</h1>
    <form action="" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group street_upload">
            <label class ="control-label" for="manhole-shp-upload-input">Manhole Shapefile</label>
            <br>
            <input id ="manhole-shp-upload-input" class = "shp-upload-input" name="manhole-shp-upload-input" style="display:inline-block;" type="file" accept = ".shp, .shx, .prj, .dbf, .cpg, .sbn, .sbx, .xml" multiple>

            <div id="manholeid-select" style="display:inline-block;">
            <label for="manhole-field-select-0" style="padding-rigth:5px;">Manhole ID Field:</label>
                <select id="manhole-field-select-0">
                    <option value="">Select Field</option>
                </select>
            </div>
        </div>
        {% gizmo manhole_buffer %}
        {% gizmo button submit_manhole %}
    </form>

{% endblock %}

{% block app_content %}
    <form method="post">
        {% csrf_token %}
        {% gizmo select_input select_options %}
        <input name="submit" type="submit" value="Update" class="btn btn-default">
    </form>
    {% gizmo map_view %}
{% endblock %}

{% block after_app_content %}

{% endblock %}

{% block content_dependent_styles %}
    {{ block.super }}
    <link href="{% static 'hpp/css/main.css' %}" rel="stylesheet"/>
    <link rel="stylesheet" href="{% static 'flood_risk/css/map.css' %}" />
{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="https://js.arcgis.com/4.15/"></script>
    <script src="{% static 'flood_risk/js/main.js' %}" type="text/javascript"></script>
{% endblock %}