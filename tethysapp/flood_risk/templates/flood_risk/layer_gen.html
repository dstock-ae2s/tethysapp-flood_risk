{% extends "flood_risk/base.html" %}
{% load tethys_gizmos %}
{% load staticfiles %}

{% block app_content %}
    <h1>Building Risk</h1>
    <form action="" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group shp_upload">
            <label class ="control-label" for="shp-upload-input">Building Shapefile</label>
            <input id ="shp-upload-input" name="shp-upload-input" oninput="this.className = ''" placeholder="Shapefile" type="file" accept = ".shp, .shx, .prj, .dbf" multiple>
        </div>
        {% gizmo buffer_input %}
        {% gizmo button add_button_shapefile %}
        <div class="objectid-select" style="width:200px;" id="objectid-select">
            <select id="objectid-field">
            </select>
        </div>
        <div class="form-group raster_upload">
            <label class ="control-label" for="raster-upload-input">Flood Depth Raster</label>
            <input id ="raster-upload-input" name="raster-upload-input" placeholder="Raster" type="file" accept = ".tif, .tfw, .xml, .ovr" multiple>
        {% gizmo button add_button_raster %}
        <div class="form-group tax_upload">
        <label class ="control-label" for="tax-upload-input">Tax Parcel Shapefile</label>
        <input id ="tax-upload-input" name="tax-upload-input" oninput="this.className = ''" placeholder="Shapefile" type="file" accept = ".shp, .shx, .prj, .dbf, .cpg, .sbn, .sbx, .xml" multiple>
        </div>
        {% gizmo button add_button_tax %}
        <div class="taxid-select" style="width:200px;" id="taxid-select">
        <select id="taxid-field">
        </select>
        </div>
        <div class="tax-select" style="width:200px;" id="tax-select">
        <select id="tax-field">
        </select>
        </div>
        {% gizmo button process_tax %}
        <div class="form-group land_upload">
        <label class ="control-label" for="land-upload-input">Land Use Shapefile</label>
        <input id ="land-upload-input" name="land-upload-input" oninput="this.className = ''" placeholder="Shapefile" type="file" accept = ".shp, .shx, .prj, .dbf, .cpg, .sbn, .sbx, .xml" multiple>
        </div>
        {% gizmo button add_button_land %}
        <div class="landid-select" style="width:200px;" id="landid-select">
        <select id="landid-field">
        </select>
        </div>
        <div class="land-select" style="width:200px;" id="land-select">
        <select id="land-field">
        </select>
        </div>
        {% gizmo button process_land %}
        <input name="submit" type="submit" class="btn btn-default">
    </form>
{% endblock %}

{% block after_app_content %}

{% endblock %}

{% block content_dependent_styles %}
    {{ block.super }}
    <link href="{% static 'hpp/css/main.css' %}" rel="stylesheet"/>
{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="https://js.arcgis.com/4.15/"></script>
    <script src="{% static 'flood_risk/js/main.js' %}" type="text/javascript"></script
{% endblock %}